(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13129f83"],{"036f":function(e,t,n){"use strict";n("894c")},"0545":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=function(e){return Object(c["pushScopeId"])("data-v-6f2d29fe"),e=e(),Object(c["popScopeId"])(),e},a={id:"wx-header"},r={class:"other"},i={class:"center"},s=o((function(){return Object(c["createElementVNode"])("span",null,"返回",-1)})),l=[s],u={class:"dialogue-section clearfix"},d={class:"self clearfix"},f={class:"text"},m={class:"header"},p=["src"],v={class:"other clearfix"},b={class:"header"},j=["src"],O={class:"text"},h=o((function(){return Object(c["createElementVNode"])("span",{class:"msg-more",id:"msg-more"},[Object(c["createElementVNode"])("ul",null,[Object(c["createElementVNode"])("li",null,"复制"),Object(c["createElementVNode"])("li",null,"转发"),Object(c["createElementVNode"])("li",null,"删除")])],-1)})),y={class:"emoji-container"},g={class:"dialogue-footer"},E={class:"component-dialogue-bar-person"},N={class:"chat-way"},V={class:"chat-say"},k=o((function(){return Object(c["createElementVNode"])("span",{class:"one"},"按住 说话",-1)})),w=o((function(){return Object(c["createElementVNode"])("span",{class:"two"},"松开 结束",-1)})),D=[k,w],I={class:"chat-way"},S=Object(c["createStaticVNode"])('<div class="recording" style="display:none;" id="recording" data-v-6f2d29fe><div class="recording-voice" style="display:none;" id="recording-voice" data-v-6f2d29fe><div class="voice-inner" data-v-6f2d29fe><div class="voice-icon" data-v-6f2d29fe></div><div class="voice-volume" data-v-6f2d29fe><span data-v-6f2d29fe></span><span data-v-6f2d29fe></span><span data-v-6f2d29fe></span><span data-v-6f2d29fe></span><span data-v-6f2d29fe></span><span data-v-6f2d29fe></span><span data-v-6f2d29fe></span><span data-v-6f2d29fe></span><span data-v-6f2d29fe></span></div></div><p data-v-6f2d29fe>手指上划，取消发送</p></div><div class="recording-cancel" style="display:none;" data-v-6f2d29fe><div class="cancel-inner" data-v-6f2d29fe></div><p data-v-6f2d29fe>松开手指，取消发送</p></div></div>',1);function x(e,t,n,o,s,k){var w=Object(c["resolveComponent"])("router-link"),x=Object(c["resolveComponent"])("emotion"),B=Object(c["resolveDirective"])("more"),C=Object(c["resolveDirective"])("press");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createElementVNode"])("header",a,[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(w,{to:{path:"/contact/details/contact-dialogue-details",query:{msgInfo2:o.msgInfo2}},tag:"span",class:"iconfont icon-chat-friends"},null,8,["to"])]),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",{class:"iconfont icon-return-arrow",onClick:t[0]||(t[0]=function(t){return e.$router.back()})},l),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.pageName),1)])]),Object(c["createElementVNode"])("div",u,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.msg,(function(t,n){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:n},[Object(c["withDirectives"])(Object(c["createElementVNode"])("li",d,[Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("p",f,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.text),1)])),[[B]]),Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("img",{src:e.$store.state.userInfo.user_pic},null,8,p)])],512),[[c["vShow"],t.toUser==e.$route.query.username&&t.fromUser==e.$store.state.userInfo.username]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("li",v,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("img",{src:o.otherpic.headerUrl},null,8,j)]),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("p",O,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.text),1)])),[[B]])],512),[[c["vShow"],t.toUser==e.$store.state.userInfo.username&&t.fromUser==e.$route.query.username]])])})),128)),h]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",y,[Object(c["createVNode"])(x,{onChooseEmojiDefault:o.chooseEmojiDefault},null,8,["onChooseEmojiDefault"])],512),[[c["vShow"],o.emojihowVisible]]),Object(c["createElementVNode"])("footer",g,[Object(c["createElementVNode"])("div",E,[Object(c["withDirectives"])(Object(c["createElementVNode"])("span",{class:"iconfont icon-dialogue-jianpan",onClick:t[1]||(t[1]=function(e){return o.currentChatWay=!0})},null,512),[[c["vShow"],!o.currentChatWay]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("span",{class:"iconfont icon-dialogue-voice",onClick:t[2]||(t[2]=function(e){return o.currentChatWay=!1})},null,512),[[c["vShow"],o.currentChatWay]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",N,[Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",V,D)),[[C]])],512),[[c["vShow"],!o.currentChatWay]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",I,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.InpVal=e}),class:"chat-txt",onFocus:t[4]||(t[4]=function(){return o.focusIpt&&o.focusIpt.apply(o,arguments)}),onBlur:t[5]||(t[5]=function(){return o.blurIpt&&o.blurIpt.apply(o,arguments)})},null,544),[[c["vModelText"],o.InpVal]])],512),[[c["vShow"],o.currentChatWay]]),Object(c["createElementVNode"])("span",{class:"expression iconfont icon-dialogue-smile",onClick:t[6]||(t[6]=Object(c["withModifiers"])((function(){return o.emojiShow&&o.emojiShow.apply(o,arguments)}),["stop"]))}),Object(c["createElementVNode"])("span",{class:"more iconfont",style:{"font-size":"15px",background:"#aa96da",padding:"0px 5px","border-radius":"12px",color:"#fff"},onClick:t[7]||(t[7]=function(){return o.submit&&o.submit.apply(o,arguments)})},"发送"),S])])])}n("b0c0"),n("e9c4"),n("0d03"),n("4795");var B=n("6c02"),C=n("5502"),T=n("00c3"),U=n("7ed9"),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=null;return function(o){var a=this,r=o;c&&clearTimeout(c),n?(c||e.apply(a,r),c=setTimeout((function(){c=null}),t)):c=setTimeout((function(){e.call(a,r)}),t)}},L={class:"emoji"},$={class:"emoji-default"},W=["onClick"];function J(e,t,n,o,a,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",L,[Object(c["createElementVNode"])("ul",$,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(a.emojiJson,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t,onClick:function(t){return r.chooseEmojiDefault(e)}},Object(c["toDisplayString"])(e),9,W)})),128))])])}n("ac1f"),n("1276");var M={data:"😀,😁,😂,😃,😄,😅,😆,😉,😊,😋,😎,😍,😘,😗,😙,😚,😇,😐,😑,😶,😏,😣,😥,😮,😯,😪,😫,😴,😌,😛,😜,😝,😒,😓,😔,😕,😲,😷,😖,😞,😟,😤,😢,😭,😦,😧,😨,😬,😰,😱,😳,😵,😡,😠,💘,❤,💓,💔,💕,💖,💗,💙,💚,💛,💜,💝,💞,💟,❣,💪,👈,👉,☝,👆,👇,✌,✋,👌,👍,👎,✊,👊,👋,👏,👐,✍,🍇,🍈,🍉,🍊,🍋,🍌,🍍,🍎,🍏,🍐,🍑,🍒,🍓,🍅,🍆,🌽,🍄,🌰,🍞,🍖,🍗,🍔,🍟,🍕,🍳,🍲,🍱,🍘,🍙,🍚,🍛,🍜,🍝,🍠,🍢,🍣,🍤,🍥,🍡,🍦,🍧,🍨,🍩,🍪,🎂,🍰,🍫,🍬,🍭,🍮,🍯,🍼,☕,🍵,🍶,🍷,🍸,🍹,🍺,🍻,🍴,🌹,🍀,🍎,💰,📱,🌙,🍁,🍂,🍃,🌷,💎,🔪,🔫,🏀,⚽,⚡,👄,👍,🔥,🙈,🙉,🙊,🐵,🐒,🐶,🐕,🐩,🐺,🐱,😺,😸,😹,😻,😼,😽,🙀,😿,😾,🐈,🐯,🐅,🐆,🐴,🐎,🐮,🐂,🐃,🐄,🐷,🐖,🐗,🐽,🐏,🐑,🐐,🐪,🐫,🐘,🐭,🐁,🐀,🐹,🐰,🐇,🐻,🐨,🐼,🐾,🐔,🐓,🐣,🐤,🐥,🐦,🐧,🐸,🐊,🐢,🐍,🐲,🐉,🐳,🐋,🐬,🐟,🐠,🐡,🐙,🐚,🐌,🐛,🐜,🐝,🐞,🦋,😈,👿,👹,👺,💀,☠,👻,👽,👾,💣"},F={data:function(){return{emojiJson:M.data.split(",")}},methods:{chooseEmojiDefault:function(e){console.log(e),this.$emit("chooseEmojiDefault",e)}}},Y=(n("40e9"),n("6b0d")),_=n.n(Y);const R=_()(F,[["render",J]]);var z=R,H={components:{emotion:z},name:"contact-dialogue",beforeRouteEnter:function(e,t,n){n((function(e){e.$store.commit("setPageName",e.$route.query.name)}))},setup:function(){var e=Object(B["c"])(),t=Object(C["b"])(),n=Object(c["ref"])(!0),o=Object(c["ref"])(null),a=Object(c["ref"])(""),r=Object(c["ref"])(!1),i=function(){r.value=!r.value},s=function(e){a.value+=e},l=Object(c["computed"])((function(){return t.state.msg})),u=Object(c["computed"])((function(){return T["a"].getUserInfo(e.query.id)})),d=Object(c["ref"])(u.value.nickname),f=Object(c["computed"])((function(){return encodeURIComponent(JSON.stringify(u.value))})),m=Object(c["computed"])((function(){return T["a"].getUserInfo(e.query.id)}));Object(c["onMounted"])((function(){U["a"].message(t.state.userInfo.username)}));var p=q((function(){var n=(new Date).toLocaleString(),c={date:n,text:a.value,fromUser:t.state.userInfo.username,toUser:e.query.username};a.value="",U["a"].submit(c)}),500),v=function(){o=setInterval((function(){document.body.scrollTop=document.body.scrollHeight}),100)},b=function(){clearInterval(o)};return{pageName:d,currentChatWay:n,focusIpt:v,blurIpt:b,submit:p,InpVal:a,otherpic:m,msg:l,msgInfo:u,msgInfo2:f,chooseEmojiDefault:s,emojiShow:i,emojihowVisible:r}},directives:{more:{mounted:function(e){var t,n;e.addEventListener("touchstart",(function(c){var o=document.getElementById("msg-more"),a=c.touches[0];t=a.clientX,n=a.clientY,clearTimeout(this.timer),this.timer=setTimeout((function(){o.style.left=(t-18>180?180:t-18)+"px",o.style.top=e.offsetTop-33+"px",o.style.display="block",e.style.backgroundColor="#e5e5e5"}),500)}),!1),e.addEventListener("touchmove",(function(e){var t=e.changedTouches[0],c=t.clientY;Math.abs(c-n)>10&&clearTimeout(this.timer)}),!1),e.addEventListener("touchend",(function(){clearTimeout(this.timer)}),!1)}},press:{mounted:function(e){var t,n=document.querySelector(".recording"),c=document.querySelector(".recording-voice"),o=document.querySelector(".recording-cancel");e.addEventListener("touchstart",(function(o){e.className="chat-say say-active",n.style.display=c.style.display="block";var a=o.touches[0];t=a.clientY,o.preventDefault()}),!1),e.addEventListener("touchend",(function(t){e.className="chat-say",o.style.display=n.style.display=c.style.display="none",t.preventDefault()}),!1),e.addEventListener("touchmove",(function(n){var a=n.changedTouches[0],r=a.clientY,i=t-r;i>50?(e.className="chat-say",c.style.display="none",o.style.display="block"):(e.className="chat-say say-active",c.style.display="block",o.style.display="none"),n.preventDefault()}),!1)}}}};n("036f");const P=_()(H,[["render",x],["__scopeId","data-v-6f2d29fe"]]);t["default"]=P},"0d03":function(e,t,n){var c=n("e330"),o=n("6eeb"),a=Date.prototype,r="Invalid Date",i="toString",s=c(a[i]),l=c(a.getTime);String(new Date(NaN))!=r&&o(a,i,(function(){var e=l(this);return e===e?s(this):r}))},"40e9":function(e,t,n){"use strict";n("4c07")},4795:function(e,t,n){var c=n("23e7"),o=n("da84"),a=n("2ba4"),r=n("1626"),i=n("342f"),s=n("f36a"),l=/MSIE .\./.test(i),u=o.Function,d=function(e){return function(t,n){var c=arguments.length>2,o=c?s(arguments,2):void 0;return e(c?function(){a(r(t)?t:u(t),this,o)}:t,n)}};c({global:!0,bind:!0,forced:l},{setTimeout:d(o.setTimeout),setInterval:d(o.setInterval)})},"4c07":function(e,t,n){},"894c":function(e,t,n){}}]);
//# sourceMappingURL=chunk-13129f83.b6040180.js.map