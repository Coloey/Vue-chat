(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c84946a"],{"0d03":function(e,t,c){var n=c("e330"),i=c("6eeb"),o=Date.prototype,r="Invalid Date",s="toString",a=n(o[s]),l=n(o.getTime);String(new Date(NaN))!=r&&i(o,s,(function(){var e=l(this);return e===e?a(this):r}))},"683d":function(e,t,c){},b64b:function(e,t,c){var n=c("23e7"),i=c("7b0b"),o=c("df75"),r=c("d039"),s=r((function(){o(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(e){return o(i(e))}})},b721:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),i={id:"wechat"},o={class:"wechat-list"},r={class:"operate-box",id:"operate-box"},s={key:0,class:"operate-unread"},a={key:1,class:"operate-read"},l=Object(n["createElementVNode"])("li",null,"删除",-1);function m(e,t,c,m,d,u){var b=Object(n["resolveComponent"])("msgItem"),j=Object(n["resolveDirective"])("more");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createElementVNode"])("ul",o,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.$store.state.msgList.baseMsg,(function(e){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(b,{item:e,class:"list-row line-bottom",key:e.mid},null,8,["item"])),[[j]])})),128)),Object(n["createElementVNode"])("span",r,[Object(n["createElementVNode"])("ul",null,[e.read?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",s," 标为未读 ")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",a,"标为已读")),l])])])])}c("4795"),c("b0c0"),c("b64b");var d={class:"list-info"},u={class:"header-box"},b={class:"new-msg-dot"},j={class:"header"},O=["src"],g={class:"desc-box"},f={class:"desc-time"},v={class:"desc-author"},p={class:"desc-msg"},h={class:"desc-mute iconfont icon-mute"};function k(e,t,c,i,o,r){var s=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",null,[Object(n["createVNode"])(s,{to:{path:"/chat/dialogue",query:{id:c.item.id,name:c.item.user.name}},onClick:t[0]||(t[0]=function(e){return i.toggleMsgRead(c.item.id,"enter")})},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",u,[Object(n["withDirectives"])(Object(n["createElementVNode"])("i",{class:"new-msg-count"},Object(n["toDisplayString"])(c.item.newMsgCount),513),[[n["vShow"],!i.read&&!i.quiet&&c.item.newMsgCount>0]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",b,null,512),[[n["vShow"],!i.read&&i.quiet]]),Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("img",{src:c.item.user.headerUrl},null,8,O)])]),Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("div",f,Object(n["toDisplayString"])(i.time(0===Object.keys(c.item.lastMsg).length?c.item.msg[c.item.msg.length-1].date:c.item.lastMsg.date)),1),Object(n["createElementVNode"])("div",v,Object(n["toDisplayString"])(c.item.user.name),1),Object(n["createElementVNode"])("div",p,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",h,null,512),[[n["vShow"],c.item.quite]]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(0===Object.keys(c.item.lastMsg).length?c.item.msg[c.item.msg.length-1].text:c.item.lastMsg.text),1)])])])]})),_:1},8,["to"])])}c("0d03");var w=c("5502"),E={name:"msgItem",props:["item"],setup:function(e){var t=Object(w["b"])(),c=Object(n["toRefs"])(Object(n["toRefs"])(e.item)),i=c.read,o=c.quiet,r=function(e,c){t.dispatch("toggleMsgRead",e,c)},s=function(e){return new Date(e).toLocaleTimeString()};return{time:s,toggleMsgRead:r,read:i,quiet:o}}},N=c("6b0d"),y=c.n(N);const V=y()(E,[["render",k]]);var B=V,D={name:"chat",components:{msgItem:B},mixins:[window.mixin],setup:function(){var e=Object(n["ref"])("信息");return{pageName:e}},directives:{more:{mounted:function(e){var t,c;e.addEventListener("touchstart",(function(n){var i=document.getElementById("operate-box"),o=n.touches[0];t=o.clientX,c=o.clientY,clearTimeout(this.timer),this.timer=setTimeout((function(){i.style.left=(t-18>250?250:t-18)+"px",i.style.top=e.offsetTop+"px",i.style.display="block",e.style.backgroundColor="#e5e5e5"}),500)}),!1),e.addEventListener("touchmove",(function(e){var t=e.changedTouches[0],n=t.clientY;Math.abs(n-c)>10&&clearTimeout(this.timer)}),!1),e.addEventListener("touchend",(function(){clearTimeout(this.timer)}),!1)}}}};c("f9ff");const x=y()(D,[["render",m]]);t["default"]=x},f9ff:function(e,t,c){"use strict";c("683d")}}]);
//# sourceMappingURL=chunk-0c84946a.9d75fd6c.js.map