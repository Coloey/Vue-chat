(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d908ae0"],{"0545":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a={id:"wx-header"},o={class:"center"},r=Object(n["createElementVNode"])("span",null,"返回",-1),s=[r],i={class:"dialogue-section clearfix"},l={class:"text"},u={class:"header"},d=["src"],p=Object(n["createElementVNode"])("span",{class:"msg-more",id:"msg-more"},[Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",null,"复制"),Object(n["createElementVNode"])("li",null,"转发"),Object(n["createElementVNode"])("li",null,"删除")])],-1),b={class:"dialogue-footer"},m={class:"component-dialogue-bar-person"},v={class:"chat-way"},y={class:"chat-say"},f=Object(n["createElementVNode"])("span",{class:"one"},"按住 说话",-1),j=Object(n["createElementVNode"])("span",{class:"two"},"松开 结束",-1),O=[f,j],h={class:"chat-way"},g=Object(n["createElementVNode"])("span",{class:"expression iconfont icon-dialogue-smile"},null,-1),E=Object(n["createStaticVNode"])('<div class="recording" style="display:none;" id="recording"><div class="recording-voice" style="display:none;" id="recording-voice"><div class="voice-inner"><div class="voice-icon"></div><div class="voice-volume"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div></div><p>手指上划，取消发送</p></div><div class="recording-cancel" style="display:none;"><div class="cancel-inner"></div><p>松开手指，取消发送</p></div></div>',1);function N(e,t,c,r,f,j){var N=Object(n["resolveDirective"])("more"),V=Object(n["resolveDirective"])("press");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("header",a,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",{class:"iconfont icon-return-arrow",onClick:t[0]||(t[0]=function(t){return e.$router.back()})},s),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(r.pageName),1)])]),Object(n["createElementVNode"])("div",i,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.msgArr,(function(t,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"self clearfix",key:c},[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("p",l,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.text),1)])),[[N]]),Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("img",{src:e.$store.state.userInfo.avatar},null,8,d)])])),[[n["vShow"],t.toUser==e.$route.query.id]])})),128)),p]),Object(n["createElementVNode"])("footer",b,[Object(n["createElementVNode"])("div",m,[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",{class:"iconfont icon-dialogue-jianpan",onClick:t[1]||(t[1]=function(e){return r.currentChatWay=!0})},null,512),[[n["vShow"],!r.currentChatWay]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("span",{class:"iconfont icon-dialogue-voice",onClick:t[2]||(t[2]=function(e){return r.currentChatWay=!1})},null,512),[[n["vShow"],r.currentChatWay]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",v,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",y,O)),[[V]])],512),[[n["vShow"],!r.currentChatWay]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",h,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.InpVal=e}),class:"chat-txt",onFocus:t[4]||(t[4]=function(){return r.focusIpt&&r.focusIpt.apply(r,arguments)}),onBlur:t[5]||(t[5]=function(){return r.blurIpt&&r.blurIpt.apply(r,arguments)})},null,544),[[n["vModelText"],r.InpVal]])],512),[[n["vShow"],r.currentChatWay]]),g,Object(n["createElementVNode"])("span",{class:"more iconfont",style:{"font-size":"15px",background:"#aa96da",padding:"0px 5px","border-radius":"12px",color:"#fff"},onClick:t[6]||(t[6]=function(){return r.submit&&r.submit.apply(r,arguments)})},"发送"),E])])])}c("b0c0"),c("0d03"),c("4795");var V=c("6c02"),w=c("5502"),k=c("7ed9"),D={name:"contact-dialogue",beforeRouteEnter:function(e,t,c){c((function(e){e.$store.commit("setPageName",e.$route.query.name)}))},setup:function(){var e=Object(V["c"])(),t=Object(w["b"])(),c=Object(n["ref"])(e.query.name),a=Object(n["ref"])(!0),o=Object(n["ref"])(null),r=Object(n["ref"])(""),s=Object(n["ref"])(k["a"].msgArr),i=function(){var c=(new Date).toLocaleString(),n={date:c,text:r.value,toUser:e.query.id},a={date:c,text:r.value},o=e.query.id;t.commit("changeLastMsg",{lastMsg:a,id:o}),r.value="",k["a"].submit(n),s.value=k["a"].msgArr},l=function(){o=setInterval((function(){document.body.scrollTop=document.body.scrollHeight}),100)},u=function(){clearInterval(o)};return{pageName:c,currentChatWay:a,focusIpt:l,blurIpt:u,msgArr:s,submit:i,InpVal:r}},directives:{more:{mounted:function(e){var t,c;e.addEventListener("touchstart",(function(n){var a=document.getElementById("msg-more"),o=n.touches[0];t=o.clientX,c=o.clientY,clearTimeout(this.timer),this.timer=setTimeout((function(){a.style.left=(t-18>180?180:t-18)+"px",a.style.top=e.offsetTop-33+"px",a.style.display="block",e.style.backgroundColor="#e5e5e5"}),500)}),!1),e.addEventListener("touchmove",(function(e){var t=e.changedTouches[0],n=t.clientY;Math.abs(n-c)>10&&clearTimeout(this.timer)}),!1),e.addEventListener("touchend",(function(){clearTimeout(this.timer)}),!1)}},press:{mounted:function(e){var t,c=document.querySelector(".recording"),n=document.querySelector(".recording-voice"),a=document.querySelector(".recording-cancel");e.addEventListener("touchstart",(function(a){e.className="chat-say say-active",c.style.display=n.style.display="block";var o=a.touches[0];t=o.clientY,a.preventDefault()}),!1),e.addEventListener("touchend",(function(t){e.className="chat-say",a.style.display=c.style.display=n.style.display="none",t.preventDefault()}),!1),e.addEventListener("touchmove",(function(c){var o=c.changedTouches[0],r=o.clientY,s=t-r;s>50?(e.className="chat-say",n.style.display="none",a.style.display="block"):(e.className="chat-say say-active",n.style.display="block",a.style.display="none"),c.preventDefault()}),!1)}}}},x=(c("8bbe"),c("6b0d")),I=c.n(x);const S=I()(D,[["render",N]]);t["default"]=S},"0d03":function(e,t,c){var n=c("e330"),a=c("6eeb"),o=Date.prototype,r="Invalid Date",s="toString",i=n(o[s]),l=n(o.getTime);String(new Date(NaN))!=r&&a(o,s,(function(){var e=l(this);return e===e?i(this):r}))},"5ba2":function(e,t,c){},"7ed9":function(e,t,c){"use strict";var n={msgArr:[],submit:function(e){n.msgArr.push(e)}};t["a"]=n},"8bbe":function(e,t,c){"use strict";c("5ba2")}}]);
//# sourceMappingURL=chunk-7d908ae0.1f6c1b0f.js.map